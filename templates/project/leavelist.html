{% extends "../base.html" %}

{% load static %}
{% block content %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
  {% block head %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* CSS to center the card */
    body, html {
      height: 100%;
      margin: 0;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
    }
    .card {
      width: 80%; /* Adjust the width of the card as needed */
    }
  </style>
  {% endblock %}
</head>
<body>
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title"> LEAVE</h4>

        <div class="table-responsive">
          <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>user</th>
                        <th>leave</th>
                        <th>dates</th>
                        <th>reason</th>
                        <th>status</th>
                        <th>action</th> 
                    </tr>
                    {% comment %} <td class="align-middle">
                        <a href="{% url 'celebration_edit' c.pk %}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                            EDIT
                        </a> {% endcomment %}
                        {% comment %} <a href="{% url 'celebration_list' c.pk %}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Detail">
                            DETAIL
                        </a>
                        <a href="{% url 'celebration_delete' c.pk %}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Delete">
                            DELETE
                        </a> {% endcomment %}
                    
                        
                          {% comment %} <a href="" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                            CREATE TEAM
                          </a> {% endcomment %}
                        </td>
                    </tr> 
                </thead>
                <tbody>
                    
                    {% for leave in celebrations %}
                        <tr>
                            <td>{{ leave.user }}</td>
                            <td>{{ leave.leave }}</td>
                            <td>{{ leave.dates }}</td>
                            <td>{{ leave.reason }}</td>
                            <td>{{ leave.status }}</td>
                            <td>{{ leave.action }}</td>

                            <td class="align-middle">
                              <form method ="post" action = "{% url 'update_status' leave.pk %}">
                                {% csrf_token %}

                                <input type = "submit" value = "Change Status">
                              </td>
                              <td class="align-middle">
                              <a href="{% url 'leavesupdate' leave.pk %}" class="btn btn-danger">
                                  UPDATE
                              </a>
                            </td>

                              <td class="align-middle">
                              <a href="{% url 'leavesdetail' leave.pk %}" class="btn btn-danger">
                                DETAIL
                            </a> 
                          </td>          
                            <td class="align-middle">
                              <a href="{% url 'leavesdelete' pk=leave.pk %}" class="btn btn-danger">Delete</a>
                          </td>
                          
                          </tr>
                        {% empty %}
                        <tr>
                            <td colspan="7">No leaves available</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                
            </table>
        </div>
        <style>
          /* Centering the button horizontally */
          .btn-container {
            display: flex;
            justify-content: center;
          }
        </style>
        <div class="btn-container">

          <button type="add" class="btn btn-primary mr-2">
            <a href="{% url 'leavecreate' %}" class="btn btn-primary">ADD</a>
          </button>
        <button type="add" class="btn btn-primary mr-2">
          <a href="{% url 'login' %}" class="btn btn-primary">LOGOUT</a>
        </button>
    </div>
</body>

</html>

{% endblock content %}